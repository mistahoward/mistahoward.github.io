// Hide Bootstrap dropdown arrows in comments
.comment-item .dropdown-toggle::after,
.comment-actions .dropdown-toggle::after,
.custom-dropdown .dropdown-toggle::after {
	display: none !important;
}

// Ensure custom dropdown menus show properly
.custom-dropdown .dropdown-menu {
	display: block !important;
	opacity: 1 !important;
	visibility: visible !important;
}

// Post Comment Prompt Styles
.post-comment-prompt {
	text-align: center;
	padding: 2rem;
	background: var(--bs-secondary-bg-subtle);
	border: 2px dashed var(--bs-border-color);
	border-radius: 0.75rem;
	
	.btn {
		font-size: 1rem;
		padding: 0.75rem 1.5rem;
		border-radius: 0.5rem;
		font-weight: 500;
	}
}

// Honeypot field styles
.honeypot-field {
	position: absolute !important;
	left: -9999px !important;
	opacity: 0 !important;
	pointer-events: none !important;
	z-index: -1 !important;
	
	input {
		position: absolute !important;
		left: -9999px !important;
		width: 1px !important;
		height: 1px !important;
		opacity: 0 !important;
		pointer-events: none !important;
	}
}

// Comment Form Styles
.comment-form {
	.comment-form-container {
		background: var(--bs-secondary-bg-subtle);
		border-radius: 0.75rem;
		padding: 2rem;
		
		.user-avatar {
			width: 3rem;
			height: 3rem;
			border-radius: 50%;
			object-fit: cover;
			border: 2px solid var(--bs-body-bg);
			box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.1);
		}
		
		.comment-textarea {
			border: 1px solid var(--bs-border-color);
			border-radius: 0.5rem;
			padding: 1rem;
			background: var(--bs-body-bg);
			color: var(--bs-body-color);
			font-size: 0.95rem;
			line-height: 1.6;
			resize: vertical;
			min-height: 6rem;
			width: 100%;
			transition: border-color 0.15s ease-in-out;
		}
		
		.form-bottom {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-top: 1rem;
		}
		
		.markdown-info {
			font-size: 0.85rem;
			color: var(--bs-secondary);
			
			a {
				text-decoration: none;
				color: var(--bs-link-color);
				
				&:hover {
					text-decoration: underline;
					color: var(--bs-link-hover-color);
				}
			}
		}
		
		.action-buttons {
			display: flex;
			gap: 0.75rem;
			
			.btn {
				font-size: 0.9rem;
				padding: 0.5rem 1rem;
				border-radius: 0.375rem;
				transition: all 0.15s ease-in-out;
				background: transparent;
				border: 1px solid var(--bs-border-color);
				
				&:disabled {
					opacity: 0.6;
					cursor: not-allowed;
				}
				
				&.btn-outline-secondary {
					color: var(--bs-secondary);
					border-color: var(--bs-border-color);
					
					&:hover:not(:disabled) {
						background-color: var(--bs-secondary-bg-subtle);
						border-color: var(--bs-secondary);
					}
				}
				
				&.btn-primary {
					background-color: var(--bs-primary);
					border-color: var(--bs-primary);
					color: white;
					
					&:hover:not(:disabled) {
						background-color: var(--bs-primary-text-emphasis);
						border-color: var(--bs-primary-text-emphasis);
					}
				}
				
				&.btn-secondary {
					background-color: var(--bs-secondary);
					border-color: var(--bs-secondary);
					color: white;
					
					&:hover:not(:disabled) {
						background-color: var(--bs-secondary-text-emphasis);
						border-color: var(--bs-secondary-text-emphasis);
					}
				}
			}
		}
		
		.error-message {
			color: var(--bs-danger);
			font-size: 0.8rem;
			margin-top: 0.5rem;
		}
	}
}

// Comment List Styles
.comment-list {
	.comment-item {
		background: var(--bs-body-bg);
		border: 1px solid var(--bs-border-color);
		border-radius: 0.75rem;
		padding: 1.5rem;
		margin-bottom: 1.5rem;
		transition: box-shadow 0.15s ease-in-out;
		width: 100%;
		box-sizing: border-box;
		
		&:hover {
			box-shadow: 0 0.25rem 0.5rem rgba(0, 0, 0, 0.1);
		}
		
		.comment-header {
			margin-bottom: 1rem;
			
			.comment-header-content {
				display: flex;
				align-items: flex-start;
				justify-content: space-between;
				gap: 1rem;
			}
			
			.user-section {
				display: flex;
				align-items: flex-start;
				gap: 1rem;
				flex: 1;
			}
			
			.user-avatar {
				width: 3rem;
				height: 3rem;
				border-radius: 50%;
				object-fit: cover;
				border: 2px solid var(--bs-body-bg);
				box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.1);
				flex-shrink: 0;
			}
			
			.user-info {
				flex: 1;
				min-width: 0;
				
				.user-name {
					font-weight: 600;
					color: var(--bs-heading-color);
					margin: 0;
					font-size: 0.95rem;
					display: flex;
					align-items: center;
					gap: 0.5rem;
					flex-wrap: wrap;
					
					.github-link {
						color: var(--bs-primary);
						text-decoration: none;
						transition: color 0.15s ease-in-out;
						font-size: 0.9rem;
						
						&:hover {
							color: var(--bs-primary-text-emphasis);
						}
					}
				}
				
				.comment-date {
					font-size: 0.8rem;
					color: var(--bs-secondary);
					margin: 0;
				}
			}
			
			.comment-actions {
				display: flex;
				align-items: flex-start;
				justify-content: flex-end;
				gap: 0.5rem;
				flex-shrink: 0;
				
				.action-button {
					background: none;
					border: none;
					color: var(--bs-secondary);
					padding: 0.25rem;
					border-radius: 0.25rem;
					transition: background-color 0.15s ease-in-out;
					
					&:hover {
						background-color: var(--bs-secondary-bg-subtle);
						color: var(--bs-secondary);
					}
				}
				
				.custom-dropdown {
					position: relative;
					
					.dropdown-toggle {
						// Hide Bootstrap's default dropdown arrow
						&::after {
							display: none !important;
						}
					}
					
					.dropdown-menu {
						position: absolute;
						top: 100%;
						right: 0;
						z-index: 1000;
						min-width: 8rem;
						padding: 0.5rem 0;
						margin: 0.125rem 0 0;
						font-size: 0.875rem;
						color: var(--bs-body-color);
						text-align: left;
						list-style: none;
						background-color: var(--bs-body-bg);
						background-clip: padding-box;
						border: 1px solid var(--bs-border-color);
						border-radius: 0.375rem;
						box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.175);
						display: block !important;
						
						.dropdown-item {
							display: block;
							width: 100%;
							padding: 0.25rem 1rem;
							clear: both;
							font-weight: 400;
							color: var(--bs-body-color);
							text-align: inherit;
							text-decoration: none;
							white-space: nowrap;
							background-color: transparent;
							border: 0;
							cursor: pointer;
							
							&:hover {
								color: var(--bs-heading-color);
								background-color: var(--bs-secondary-bg-subtle);
							}
							
							&.text-danger {
								color: var(--bs-danger);
								
								&:hover {
									color: #fff;
									background-color: var(--bs-danger);
								}
							}
						}
					}
				}
			}
		}
		
		.comment-content-wrapper {
			.comment-content {
				color: var(--bs-body-color);
				line-height: 1.6;
				margin-bottom: 0.75rem;
				font-size: 0.95rem;
				word-wrap: break-word;
				overflow-wrap: break-word;
				
				p {
					margin-bottom: 1rem;
					
					&:last-child {
						margin-bottom: 0;
					}
				}
				
				code {
					background: var(--bs-secondary-bg-subtle);
					padding: 0.125rem 0.25rem;
					border-radius: 0.25rem;
					font-size: 0.875em;
					color: var(--bs-code-color);
				}
				
				pre {
					background: var(--bs-secondary-bg-subtle);
					padding: 0.75rem;
					border-radius: 0.5rem;
					overflow-x: auto;
					margin: 0.75rem 0;
					font-size: 0.875em;
				}
			}
			
			.comment-actions-inline {
				display: flex;
				align-items: center;
				gap: 1rem;
				padding-top: 0.75rem;
				border-top: 1px solid var(--bs-border-color-subtle);
				
				.vote-buttons {
					display: flex;
					align-items: center;
					gap: 0.5rem;
					
					.vote-button {
						background: none;
						border: 1px solid var(--bs-border-color);
						border-radius: 0.375rem;
						padding: 0.25rem 0.5rem;
						color: var(--bs-secondary);
						font-size: 0.8rem;
						transition: all 0.15s ease-in-out;
						
						&:hover {
							background-color: var(--bs-secondary-bg-subtle);
							border-color: var(--bs-secondary);
						}
						
						&.voted-up {
							color: var(--bs-success);
							border-color: var(--bs-success);	
							background-color: var(--bs-success-bg-subtle);
						}
						
						&.voted-down {
							color: var(--bs-danger);
							border-color: var(--bs-danger);
							background-color: var(--bs-danger-bg-subtle);
						}
					}
					
					.vote-count {
						font-size: 0.8rem;
						color: var(--bs-secondary);
						min-width: 1.5rem;
						text-align: center;
					}
				}
			}
		}
		

		
		&.edited {
			.comment-content::after {
				content: " (edited)";
				font-size: 0.8rem;
				color: var(--bs-secondary);
				font-style: italic;
			}
		}
	}
}

// User Badge Styles
.user-badge {
	display: inline-flex;
	align-items: center;
	padding: 0.25rem 0.5rem;
	border-radius: 0.375rem;
	font-size: 0.7rem;
	font-weight: 600;
	text-transform: uppercase;
	letter-spacing: 0.025em;
	
	&.admin {
		background-color: var(--bs-danger);
		color: white;
	}
	
	&.author {
		background-color: var(--bs-primary);
		color: white;
	}
	
	&.moderator {
		background-color: var(--bs-info);
		color: white;
	}
	
	&.user {
		background-color: var(--bs-secondary);
		color: white;
	}
}

// Reply Form Styles
.reply-form {
	margin-top: 1rem;
	margin-left: 1rem;
	padding: 1rem;
	background: var(--bs-secondary-bg-subtle);
	border-radius: 0.5rem;
	border: 1px solid var(--bs-border-color-subtle);
	border-left: 3px solid var(--bs-primary);
	
	.comment-form-container {
		padding: 0;
		background: none;
		border: none;
		
		.user-avatar {
			width: 2rem;
			height: 2rem;
			flex-shrink: 0;
		}
		
		.comment-textarea {
			min-height: 3rem;
			font-size: 0.9rem;
			padding: 0.5rem;
			border: 1px solid var(--bs-border-color);
			border-radius: 0.375rem;
			background: var(--bs-body-bg);
			width: 100%;
			
			&:focus {
				border-color: var(--bs-primary);
				box-shadow: 0 0 0 0.125rem rgba(var(--bs-primary-rgb), 0.25);
			}
		}
		
		.form-actions {
			margin-top: 0.75rem;
			display: flex;
			justify-content: space-between;
			align-items: center;
			width: 100%;
			
			.markdown-info {
				font-size: 0.75rem;
				flex-shrink: 0;
			}
			
			.action-buttons {
				display: flex;
				gap: 0.5rem;
				flex-shrink: 0;
				
				.btn {
					font-size: 0.8rem;
					padding: 0.375rem 0.75rem;
					height: auto;
					line-height: 1.2;
					white-space: nowrap;
				}
			}
		}
	}
}

// Loading and Empty States
.loading-comments {
	text-align: center;
	padding: 3rem 2rem;
	color: var(--bs-secondary);
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	
	p {
		margin: 0;
		font-size: 0.9rem;
	}
}

.comments-empty {
	text-align: center;
	padding: 2rem;
	color: var(--bs-secondary);
	
	.empty-icon {
		font-size: 2rem;
		margin-bottom: 1rem;
		opacity: 0.5;
	}
}

// Responsive Design
@media (max-width: 767.98px) {
	.comment-form {
		.comment-form-container {
			padding: 1rem;
		}
	}
	
	.comment-list {
		.comment-item {
			padding: 1rem;
			
			.comment-header {
				gap: 0.5rem;
				
				.user-avatar {
					width: 2rem;
					height: 2rem;
				}
			}
			
			.comment-footer {
				flex-direction: column;
				align-items: flex-start;
				gap: 0.5rem;
			}
		}
	}
} 